package com.weibo.biz.tongji.ui;

import android.app.AlertDialog;
import android.content.DialogInterface;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.widget.Button;
import android.widget.TextView;
import com.weibo.biz.tongji.R;
import com.weibo.biz.tongji.base.BaseActivity;
import com.weibo.biz.tongji.base.FenApplication;
import com.weibo.biz.tongji.test.TestSwipeActivity;
import com.weibo.biz.tongji.util.Connectivity;
import com.weibo.biz.tongji.util.helper;

/**
 * Powered by suchasplus @15/3/5 21:03
 */
public class MainActivity extends BaseActivity {

    @Override
    public void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        init();
    }

    @Override
    protected boolean resolveCreateOptionMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.main, menu);
        return true;
    }

    @Override
    protected boolean resolveOptionsItemSelected(MenuItem item) {
        Intent i;
        switch (item.getItemId()) {

            case R.id.report:
                String mailto = FenApplication.getBasicProperties("report_mailto");
                i = new Intent(Intent.ACTION_SENDTO, Uri.fromParts(
                        "mailto", mailto, null));
                i.putExtra(Intent.EXTRA_SUBJECT, "FenApplication Android Issue");
                i.putExtra(Intent.EXTRA_TEXT, "Your error report here...");
                startActivity(Intent.createChooser(i, "Report Problem"));
                break;

            case R.id.website:
                String pc_url = FenApplication.getBasicProperties("pc_stat_url");
                i = new Intent(Intent.ACTION_VIEW);
                i.setData(Uri.parse(pc_url));
                startActivity(i);
                break;
        }
        return true;
    }

    public void init() {

        setContentView(R.layout.index);
        TextView tvDeviceId = (TextView)findViewById(R.id.main_DeviceIdTextView);
        tvDeviceId.setText("设备ID: " + helper.getUniqDeviceId(this));

        Button showStat = (Button)findViewById(R.id.main_showStatBtn);
        showStat.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {

                Intent i = new Intent(MainActivity.this, SwipeStatActivity.class);
                startActivity(i);
            }
        });

        Button fentiaoCtrl = (Button)findViewById(R.id.main_showFentiaoBtn);
        fentiaoCtrl.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Intent i = new Intent(MainActivity.this, FentiaoCtrlActivity.class);
                startActivity(i);
            }
        });

        Button testBtn = (Button)findViewById(R.id.main_showTestBtn);
        testBtn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Intent i = new Intent(MainActivity.this, TongJiChartActivity.class);
                i.putExtra(TongJiChartActivity.VIEW_CATEGORY, "feed");
                startActivity(i);
            }
        });


        String str = "{\"x_axis\":[\"00:00\",\"00:05\",\"00:10\",\"00:15\",\"00:20\",\"00:25\",\"00:30\",\"00:35\",\"00:40\",\"00:45\",\"00:50\",\"00:55\",\"01:00\",\"01:05\",\"01:10\",\"01:15\",\"01:20\",\"01:25\",\"01:30\",\"01:35\",\"01:40\",\"01:45\",\"01:50\",\"01:55\",\"02:00\",\"02:05\",\"02:10\",\"02:15\",\"02:20\",\"02:25\",\"02:30\",\"02:35\",\"02:40\",\"02:45\",\"02:50\",\"02:55\",\"03:00\",\"03:05\",\"03:10\",\"03:15\",\"03:20\",\"03:25\",\"03:30\",\"03:35\",\"03:40\",\"03:45\",\"03:50\",\"03:55\",\"04:00\",\"04:05\",\"04:10\",\"04:15\",\"04:20\",\"04:25\",\"04:30\",\"04:35\",\"04:40\",\"04:45\",\"04:50\",\"04:55\",\"05:00\",\"05:05\",\"05:10\",\"05:15\",\"05:20\",\"05:25\",\"05:30\",\"05:35\",\"05:40\",\"05:45\",\"05:50\",\"05:55\",\"06:00\",\"06:05\",\"06:10\",\"06:15\",\"06:20\",\"06:25\",\"06:30\",\"06:35\",\"06:40\",\"06:45\",\"06:50\",\"06:55\",\"07:00\",\"07:05\",\"07:10\",\"07:15\",\"07:20\",\"07:25\",\"07:30\",\"07:35\",\"07:40\",\"07:45\",\"07:50\",\"07:55\",\"08:00\",\"08:05\",\"08:10\",\"08:15\",\"08:20\",\"08:25\",\"08:30\",\"08:35\",\"08:40\",\"08:45\",\"08:50\",\"08:55\",\"09:00\",\"09:05\",\"09:10\",\"09:15\",\"09:20\",\"09:25\",\"09:30\",\"09:35\",\"09:40\",\"09:45\",\"09:50\",\"09:55\",\"10:00\",\"10:05\",\"10:10\",\"10:15\",\"10:20\",\"10:25\",\"10:30\",\"10:35\",\"10:40\",\"10:45\",\"10:50\",\"10:55\",\"11:00\",\"11:05\",\"11:10\",\"11:15\",\"11:20\",\"11:25\",\"11:30\",\"11:35\",\"11:40\",\"11:45\",\"11:50\",\"11:55\",\"12:00\",\"12:05\",\"12:10\",\"12:15\",\"12:20\",\"12:25\",\"12:30\",\"12:35\",\"12:40\",\"12:45\",\"12:50\",\"12:55\",\"13:00\",\"13:05\",\"13:10\",\"13:15\",\"13:20\",\"13:25\",\"13:30\",\"13:35\",\"13:40\",\"13:45\",\"13:50\",\"13:55\",\"14:00\",\"14:05\",\"14:10\",\"14:15\",\"14:20\",\"14:25\",\"14:30\",\"14:35\",\"14:40\",\"14:45\",\"14:50\",\"14:55\",\"15:00\",\"15:05\",\"15:10\",\"15:15\",\"15:20\",\"15:25\",\"15:30\",\"15:35\",\"15:40\",\"15:45\",\"15:50\",\"15:55\",\"16:00\",\"16:05\",\"16:10\",\"16:15\",\"16:20\",\"16:25\",\"16:30\",\"16:35\",\"16:40\",\"16:45\",\"16:50\",\"16:55\",\"17:00\",\"17:05\",\"17:10\",\"17:15\",\"17:20\",\"17:25\",\"17:30\",\"17:35\",\"17:40\",\"17:45\",\"17:50\",\"17:55\",\"18:00\",\"18:05\",\"18:10\",\"18:15\",\"18:20\",\"18:25\",\"18:30\",\"18:35\",\"18:40\",\"18:45\",\"18:50\",\"18:55\",\"19:00\",\"19:05\",\"19:10\",\"19:15\",\"19:20\",\"19:25\",\"19:30\",\"19:35\",\"19:40\",\"19:45\",\"19:50\",\"19:55\",\"20:00\",\"20:05\",\"20:10\",\"20:15\",\"20:20\",\"20:25\",\"20:30\",\"20:35\",\"20:40\",\"20:45\",\"20:50\",\"20:55\",\"21:00\",\"21:05\",\"21:10\",\"21:15\",\"21:20\",\"21:25\",\"21:30\",\"21:35\",\"21:40\",\"21:45\",\"21:50\",\"21:55\",\"22:00\",\"22:05\",\"22:10\",\"22:15\",\"22:20\",\"22:25\",\"22:30\",\"22:35\",\"22:40\",\"22:45\",\"22:50\",\"22:55\",\"23:00\",\"23:05\",\"23:10\",\"23:15\",\"23:20\",\"23:25\",\"23:30\",\"23:35\",\"23:40\",\"23:45\",\"23:50\",\"23:55\"],\"today\":[1389,1236,1494,1186,1082,1004,1386,1432,1486,1447,1183,1034,1215,1145,1111,1402,1005,1077,1132,1040,1049,1122,1296,1065,1242,1498,1355,1323,1043,1199,1028,1421,1112,1096,1058,1081,1169,1209,1131,1422,1026,1129,1265,1147,1422,1200,1385,1481,1064,1269,1134,1208,1115,1150,1380,1044,1141,1026,1022,1173,1178,1064,1254,1359,1475,1160,1496,1150,1334,1176,1100,1132,1401,1172,1091,1082,1345,1264,1320,1077,1305,1138,1284,1358,1010,1121,1235,1494,1422,1044,1033,1067,1210,1216,1446,1372,1156,1293,1432,1407,1395,1495,1339,1329,1136,1352,1058,1102,1247,1312,1374,1240,1047,1079,1194,1402,1324,1196,1011,1191,1281,1312,1352,1111,1306,1382,1211,1450,1390,1464,1077,1126,1104,1351,1194,1270,1432,1236,1286,1328],\"yesterday\":[1100,1065,1100,1095,1407,1079,1102,1110,1253,1435,1174,1063,1299,1292,1479,1060,1065,1452,1383,1369,1315,1498,1032,1247,1393,1003,1406,1412,1489,1120,1160,1209,1332,1128,1194,1436,1433,1288,1111,1155,1354,1382,1303,1415,1011,1069,1150,1320,1028,1159,1081,1107,1237,1001,1149,1071,1272,1156,1137,1201,1471,1104,1313,1429,1078,1459,1002,1144,1171,1193,1367,1044,1109,1364,1223,1197,1358,1353,1002,1336,1012,1112,1244,1145,1317,1409,1492,1337,1100,1421,1498,1303,1442,1225,1082,1093,1215,1450,1443,1365,1409,1442,1009,1219,1436,1381,1253,1410,1202,1133,1040,1435,1430,1268,1097,1233,1084,1143,1246,1493,1304,1178,1418,1466,1044,1238,1139,1464,1159,1170,1362,1142,1455,1307,1418,1224,1106,1317,1267,1156,1119,1174,1127,1324,1140,1388,1279,1000,1029,1243,1021,1453,1411,1268,1376,1024,1376,1192,1397,1085,1445,1084,1279,1196,1276,1445,1114,1112,1116,1221,1271,1488,1444,1149,1196,1377,1207,1363,1046,1295,1500,1119,1136,1139,1111,1246,1105,1028,1413,1388,1413,1249,1225,1106,1171,1093,1141,1285,1444,1031,1283,1437,1009,1437,1142,1030,1089,1175,1391,1086,1183,1233,1392,1102,1441,1390,1410,1112,1291,1342,1374,1489,1151,1277,1446,1105,1042,1453,1356,1269,1188,1021,1486,1016,1183,1210,1230,1018,1363,1425,1158,1438,1369,1134,1446,1021,1063,1231,1177,1325,1105,1416,1235,1218,1230,1406,1173,1089,1233,1267,1127,1312,1332,1239,1290,1370,1100,1232,1220,1432,1093,1339,1181,1309,1151,1093,1365,1469,1448,1207,1272,1133,1362,1206,1316,1031,1477,1176],\"week_ago\":[1237,1352,1181,1430,1467,1291,1103,1071,1055,1409,1008,1073,1173,1269,1176,1256,1358,1469,1221,1155,1329,1393,1191,1484,1463,1022,1088,1039,1422,1291,1105,1103,1135,1383,1275,1279,1184,1095,1084,1204,1365,1074,1407,1035,1229,1165,1097,1385,1496,1150,1004,1387,1190,1105,1116,1185,1335,1155,1183,1343,1424,1031,1269,1271,1420,1491,1263,1419,1055,1257,1228,1333,1146,1074,1153,1111,1113,1258,1429,1122,1490,1033,1143,1006,1229,1427,1284,1136,1139,1476,1488,1100,1345,1490,1307,1216,1207,1043,1144,1064,1062,1366,1307,1031,1114,1207,1423,1373,1315,1180,1089,1031,1040,1259,1195,1076,1329,1238,1441,1073,1114,1049,1479,1246,1343,1076,1161,1304,1050,1042,1346,1024,1443,1408,1453,1191,1331,1294,1453,1123,1485,1197,1198,1081,1429,1048,1306,1474,1191,1136,1175,1315,1219,1196,1391,1496,1198,1003,1016,1036,1473,1223,1085,1309,1440,1297,1398,1025,1380,1493,1245,1146,1180,1340,1235,1140,1461,1487,1059,1322,1239,1114,1231,1253,1360,1382,1233,1048,1178,1108,1264,1120,1112,1272,1402,1171,1212,1278,1424,1054,1277,1388,1465,1423,1325,1055,1279,1315,1282,1062,1179,1324,1017,1335,1133,1224,1327,1420,1048,1434,1373,1463,1164,1042,1363,1129,1339,1434,1055,1297,1159,1097,1134,1277,1358,1056,1199,1382,1296,1309,1030,1200,1390,1225,1404,1133,1043,1048,1247,1360,1035,1336,1435,1097,1143,1389,1343,1042,1224,1178,1289,1190,1042,1009,1064,1396,1285,1335,1451,1450,1338,1267,1428,1415,1076,1279,1405,1197,1208,1237,1076,1372,1365,1081,1138,1410,1370,1157]}";

    }


}
